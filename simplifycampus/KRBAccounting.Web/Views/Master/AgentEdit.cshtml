@using KRBAccounting.Service
@model KRBAccounting.Web.ViewModels.Master.AgentAddViewModel
<script src="@Url.Content("~/Scripts/jquery.validate.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
@*@Html.CustomValidationSummary("Login was unsuccessful. Please correct the errors and try again.")*@
@using (Ajax.BeginForm("AgentEdit", "Master", new { controller = "Master" }, new AjaxOptions { HttpMethod = "Post", OnComplete = "OnCompleteEdit" }, new { @class = "form-horizontal", id = "agent-form" }))
{
    @Html.HiddenFor(x => x.Agent.Id)
    @Html.HiddenFor(x => x.Agent.CreatedById)
    @Html.HiddenFor(x => x.Agent.CreatedDate)
    @Html.HiddenFor(x => x.Agent.BranchId)
       
    <div style="width: 382px;">
        <div class="lag">
            <label class="label-90">Name</label>
             <strong><font size="2"><font color="#ff3300">*</font> </font></strong>
            <span class="field">
                @Html.TextBoxFor(m => m.Agent.Name, new { @class = "input-253 input" })
                @Html.ValidationMessageFor(m => m.Agent.Name)
                <span class="loading Agent_Name">
                    <img title="w_loader_gr.gif" src="/Content/themes/img/loaders/w_loader_gr.gif" /></span>
            </span>
        </div>
        <div class="lag">
            <label class="label-90">Short Name</label>
             <strong><font size="2"><font color="#ff3300">*</font> </font></strong>
            <span class="field">
                @Html.TextBoxFor(m => m.Agent.ShorName, new { @class = "input-253 input" })
                @Html.ValidationMessageFor(m => m.Agent.ShorName)
                <span class="loading Agent_ShorName">
                    <img title="w_loader_gr.gif" src="/Content/themes/img/loaders/w_loader_gr.gif" /></span>
            </span>
        </div>
        <div class="lag">
            <label class="label-90">Address</label>
            <span class="field">
                @Html.TextBoxFor(m => m.Agent.Address, new { @class = "input-253 input" })
                @Html.ValidationMessageFor(m => m.Agent.Address)
            </span>
        </div>
        <div class="lag">
            <label class="label-90">Phone</label>
            <span class="field">
                @Html.TextBoxFor(m => m.Agent.PhoneNo, new { @class = "input-253 input" })
                @Html.ValidationMessageFor(m => m.Agent.PhoneNo)
            </span>
        </div>
        <div class="lag">
            <label class="label-90">Fax</label>
            <span class="field">
                @Html.TextBoxFor(m => m.Agent.Fax, new { @class = "input-253 input" })
            </span>
        </div>
        <div class="lag">
            <label class="label-90">
                Email</label>
            <span class="field">
                @Html.TextBoxFor(m => m.Agent.Email, new { @class = "input-253 input" })
                @Html.ValidationMessageFor(m => m.Agent.Email)
            </span>
        </div>
        <div class="lag">
            <label class="label-90">
                Ledger</label>
            @* <strong><font size="2"><font color="#ff3300">*</font> </font></strong>*@
            <span class="field">
                @Html.HiddenFor(m => m.Agent.LedgerId)
                <input type="text" value="@if (Model.Agent.LedgerId != null)
                                          {
                                              @UtilityService.GetLedgerNameById((int)Model.Agent.LedgerId)
                                          }" class = "modallink input input-253" href="@Url.Action("GetLedger", "Master")" valueId="Agent_LedgerId" id="ledger"/>
                <br/>
                @Html.ValidationMessageFor(m => m.Agent.LedgerId)
            </span>
        </div>
        <div class="lag">
            <label class="label-90">
                Sub-Ledger</label>
            <span class="field">
                @Html.HiddenFor(m => m.Agent.SubLedgerId)
                <input type="text" value="@if (Model.Agent.SubLedgerId != null)
                                          {
                                              @UtilityService.GetSubLedgerNameById((int)Model.Agent.SubLedgerId)
                                          }" class = "modallink input input-253" href="@Url.Action("GetSubLedger", "Master")" valueId="Agent_SubLedgerId" id="subledger"/>
            </span>
        </div>
        <div class="lag">
            <label class="label-90">
                Commision (%)</label>
            <span class="field">
                @Html.TextBoxFor(m => m.Agent.Commision, new { @class = "input-80 input" })
                @Html.ValidationMessageFor(m => m.Agent.Commision)
            </span>
        </div>
        <div class="lag">
            <label class="label-90">
                Area</label>
            <strong><font size="2"><font color="#ff3300">*</font> </font></strong>
            <span class="field">
                @Html.HiddenFor(m => m.Agent.Area)
                <input type="text" value="@UtilityService.GetAreaById(Model.Agent.Area)" class="modallink input input-253" href ="@Url.Action("GetArea", "Master")"  valueId="Agent_Area" id="AreaAgent"/>
                <br/>
                @Html.ValidationMessageFor(m => m.Agent.Area)
            </span>
        </div>
        <div class="lag">
            <label class="label-90">
                Is Active</label>
            <span class="field">
                @Html.CheckBoxFor(a => a.Agent.IsActive)
            </span>
        </div>
        <div class="lag">
            <label class="label-90">
                Is Deleted</label>
            <span class="field">
                @Html.CheckBoxFor(a => a.Agent.IsDeleted)
            </span>
        </div>
    </div>
}