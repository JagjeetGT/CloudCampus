@model KRBAccounting.Domain.Entities.ScStudentSubjectMapping
@using KRBAccounting.Enums
@using KRBAccounting.Service
<script src="@Url.Content("~/Scripts/jquery.validate.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.js")" type="text/javascript"></script>
@using (Ajax.BeginForm("StudentSubjectMappingAdd", "School", new { controller = "School" }, new AjaxOptions { HttpMethod = "Post", OnSuccess = "success" }, new { @class = "form-horizontal from-custom online-form", id = "form-id" }))
{
    @Html.HiddenFor(m=>m.AcademicYearId)
    <div style="width: 800px;">
        <div class="lag">
            <label class="label-90 ">
                Class
            </label>
            <div class="field">
                @Html.HiddenFor(x => x.ClassId)
                <input type="text" class="modallink input-370" href="@Url.Action("GetStudentClass")" createhref="@Url.Action("AddClass")"  valueid="ClassId" id="class-id" />
                @Html.ValidationMessageFor(m => m.ClassId)
            </div>
            <label class="label-90">
                Code</label>
            <div class="field">
                <input type="text" class="input-120" readonly="readonly" id="class-code" />
            </div>
        </div>
        <div class="clearfix">
        </div>
        <div class="lag">
            <label class="label-90">
                Student
            </label>
            <div class="field">
                @Html.HiddenFor(x => x.StudentId)
                <input type="text" class="modallink input-370" href="@Url.Action("GetStudentsSubject")" valueid="StudentId" id="student-id" />
                @Html.ValidationMessageFor(m => m.StudentId)
            </div>
            <label class="label-90">
                Code</label>
            <div class="field">
                <input type="text" class="input-120" readonly="readonly" id="student-code" />
            </div>
        </div>
        <div class="clearfix">
        </div>
        <div class="lag detailEntryTable" style="height: 400px">
            <table class="table-bordered" id="table-class-subject-detail">
                <tr class="nodrop nodrag">
                    <th width="20px">
                    </th>
                    <th width="220px">
                        Subject
                    </th>
                    <th width="80px">
                        Subject Type
                    </th>
                    <th width="90px">
                        Class Type
                    </th>
                    <th width="90px">
                        Result System
                    </th>
                    <th width="90px">
                        Evaluation
                    </th>
                    <th width="220px">
                        Narration
                    </th>
                </tr>
                @{
    var modellink = new KRBAccounting.Domain.Entities.ScStudentSubjectMapping();
                }
                @Html.Partial("_PartialStudentSubjectEntry", modellink)
            </table>
        </div>
    </div>
}
<script type="text/javascript">

    $(document).ready(function () {
        $(".text_subject").attr("id", "subject_0");
        $('.text_ResultSystem').attr("id", "ResultSystem_0");
        $('.text_EvaluateForType').attr("id", "EvaluateForType_0");
        $('.text_SubjectType').attr("id", "SubjectType_0");
        $('.text_ClassType').attr("id", "ClassType_0");



        $(".text_subject").attr("valueId", $(".hdn_Subject_Id").attr("id"));
        $(".text_ResultSystem").attr("valueId", $(".hdn_ResultSystem_Id").attr("id"));
        $(".text_EvaluateForType").attr("valueId", $(".hdn_EvaluateForType_Id").attr("id"));
        $(".text_SubjectType").attr("valueId", $(".hdn_SubjectType_Id").attr("id"));
        $(".text_ClassType").attr("valueId", $(".hdn_ClassType_Id").attr("id"));
        $(".text_subject").closest("tr").attr("id", "tr_0");
    });


</script>
