@model KRBAccounting.Domain.Entities.ScStudentSubjectMapping
@using KRBAccounting.Enums
@using KRBAccounting.Service
<script src="@Url.Content("~/Scripts/jquery.validate.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.js")" type="text/javascript"></script>
@using (Ajax.BeginForm("SubjectStudentMappingAdd", "School", new { controller = "School" }, new AjaxOptions { HttpMethod = "Post", OnSuccess = "success" }, new { @class = "form-horizontal from-custom online-form", id = "form-id" }))
{
    <div style="width: 800px;">
        <div class="lag">
            <label class="label-90 ">
                Class
            </label>
            <div class="field">
                @Html.HiddenFor(x => x.ClassId)
                <input type="text" class="modallink input-370" href="@Url.Action("GetStudentClass")" createhref="@Url.Action("AddClass")"  valueid="ClassId" id="class-id" />
                @Html.ValidationMessageFor(m => m.ClassId)
            </div>
           @* <label class="label-90">
                Code</label>
            <div class="field">
                <input type="text" class="input-120" readonly="readonly" id="class-code" />
            </div>*@
        </div>
        <div class="clearfix">
        </div>
        <div class="lag">
            <label class="label-90">
                Subject
            </label>
            <div class="field">
                @Html.HiddenFor(x => x.SubjectId)
                <input type="text" class="modallink input-370" href="@Url.Action("GetOptionalSubjectByClassIdNotmapped")" valueid="SubjectId" id="subject-id" />
                @Html.ValidationMessageFor(m => m.SubjectId)
            </div>
           @* <label class="label-90">
                Code</label>
            <div class="field">
                <input type="text" class="input-120" readonly="readonly" id="student-code" />
            </div>*@
        </div>
        <div class="clearfix">
        </div>
        <div class="lag detailEntryTable" style="height: 400px">
            <table class="table-bordered" id="table-class-subject-detail">
                <tr class="nodrop nodrag">
                    <th width="20px">
                    </th>
                    <th width="220px">
                        Student
                    </th>
                    <th width="80px">
                        Student Code
                    </th>
                    <th width="90px">
                        Reg No.
                    </th>
                    <th width="90px">
                        Section
                    </th>
                    <th width="220px">
                        Narration
                    </th>
                </tr>
                @{
    var modellink = new KRBAccounting.Domain.Entities.ScStudentSubjectMapping();
                }
                @Html.Partial("_PartialSubjectStudentEntry", modellink)
            </table>
        </div>
    </div>
}

<script type="text/javascript">

    $(document).ready(function () {
        $(".text_student").attr("id", "student_0");
        $(".text_student").attr("valueId", $(".hdn_Student_Id").attr("id"));
        $(".text_student").closest("tr").attr("id", "tr_0");
    });


</script>
