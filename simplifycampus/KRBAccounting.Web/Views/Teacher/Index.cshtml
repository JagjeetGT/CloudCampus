@model KRBAccounting.Web.ViewModels.Teacher.TeacherDashboardViewModel
@{
    ViewBag.Title = "Index";
    Layout = "_Layout.cshtml";
}
<style>
    .class-section
    {
        width: 200px;
    }
    .class-section-child
    {
        width: 200px;
    }
</style>
<div class="row-fluid">
    <div class="span12">
        <h3 class="page-title">
            Dashboard
        </h3>
        <ul class="breadcrumb">
            <li><i class="icon-home"></i><a href="#">Dashboard</a> </li>
            <li style="margin-left: 200px"><i class="icon-user"></i><a href="@Url.Action("TeacherFriendsList", "Teacher", new { teacherId = Model.EmployeeInfo.Id })">
                Friends</a> </li>
            <li style="margin-left: 200px"><i class="icon-flag"></i><a href="@Url.Action("Salary", "Teacher")">
                Salary</a> </li>
            <li style="margin-left: 200px"><i class="icon-user"></i><a href="@Url.Action("StudentList", "Teacher", new { teacherId = Model.EmployeeInfo.Id })">
                Students</a> </li>
        </ul>
    </div>
    <div class="row-fluid">
       
        <div class="span9">
            <section class="social-box">
                <header class="header" style="height: 30px">
                    <h4 align="center" ><i class="icon-th-list"></i>Attend Subjects </h4>

                </header>
                <div>
                    <div id="demo-plot" class="plot">
                        <div class="body">
                            <table class="table" style="font-size: 12px">
                                <thead>
                                    <tr>
                                        <th>#</th>
                                        <th> Subject</th>
                                        <th style="text-align: center; width: 25%"> Class/Section</th>
                           
                                    </tr>
                                </thead>
                                <tbody>
                                    @{
                                        int SN0 = 1;
                                    }
                                    @foreach (var item in Model.SubjectLists)
                                    {
                                        <tr style="font-size: 10px">
                                            <td style="vertical-align: middle;">@SN0</td>
                                            <td style="vertical-align: middle;">@item.SubjectName</td>
                                            @{
                                                int i = 0;
                                            }
                                            <td class="class-section">
                                                @foreach (var ite in Model.ClassLists.Where(x => x.SubjectId == item.SubjectId))
                                                {


                                                    if (i == 0)
                                                    {
                                                        <table >
                                                            <tbody>
                                                                <tr>
                                                                    <td class="class-section-child">
                                                        
                                           
                                                                        @ite.ClassName <text> / </text> @ite.SectionName
                                                                    </td>
                                                                    <td>
                                                                        <ul class="nav pull-right" style="height: 1px">
                                                                            <li class="dropdown">
                                                                                <a data-toggle="dropdown" class="dropdown-toggle" title="Detail" style="cursor: pointer"><i class="icon-hand-up"></i></a>
                                                                                <ul class="dropdown-menu" style="left:-125px; top: 13px">
                                                                                    <li>
                                                                                        <table  style="width: 160px">
                                                                                            <tr>
                                                                                                <th style="border: none; text-align: center; padding: 0px"> Title</th>
                                                                                            </tr>
                                                                                            <tr>@{
                                                                                                    int x = 0;
                                                                                                }
                                                                                                <td>
                                                                                                    @foreach (var it in Model.TeacherListItems)
                                                                                                    {
                                                                                                        if (x == 0)
                                                                                                        {
                                                                                                            <a href="@Url.Action("TeacherDetailList", "Teacher", new
                                                      {
                                                          subjectId = item.SubjectId,
                                                          classId = ite.ClassId,
                                                          sectionId = ite.SectionId,
                                                          ItemValue = it.Value
                                                      })"> @it.Text</a>
                                                            
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            <br/>
                                                                                                            <a href="@Url.Action("TeacherDetailList", "Teacher", new
                                                      {
                                                          subjectId = item.SubjectId,
                                                          classId = ite.ClassId,
                                                          sectionId = ite.SectionId,
                                                          ItemValue = it.Value
                                                      })"> @it.Text</a>
  
                                                                                                        }
                                                                                                        x++;

                                                                                                    }
                                                                                                </td>
                                                  
                                                                                            </tr>
                                   
                                              
                                                                                        </table>
                                                                                    </li>
                                    
                                                                                </ul>
                                                                            </li>
                                                                        </ul>
                                                    
                                                                    </td>
                                                
                                                
                                                                </tr>
                                                            </tbody>
                                                        </table>

                                         
                                                    }
                                                    else
                                                    {
                                                        <table>
                                                            <tbody>
                                                                <tr>
                                                                    <td class="class-section-child">
                                                        
                                                                        @ite.ClassName <text> / </text> @ite.SectionName
                                                                    </td>
                                                                    <td>
                                                             
                                                                        <ul class="nav pull-right" style="height: 1px">
                                                                            <li class="dropdown">
                                                                                <a data-toggle="dropdown" class="dropdown-toggle" title="Detail" style="cursor: pointer"><i class="icon-hand-up"></i></a>
                                                                                <ul class="dropdown-menu" style="left:-125px; top: 13px">
                                                                                    <li>
                                                                                        <table width="160px">
                                                                                            <tr>
                                                                                                <th style="border: none; text-align: center; padding: 0px"> Title</th>
                                                                                            </tr>
                                                                                            <tr>@{
                                                                                                    int y = 0;
                                                                                                }
                                                                                                <td>
                                                                                                    @foreach (var it in Model.TeacherListItems)
                                                                                                    {
                                                                                                        if (y == 0)
                                                                                                        {
                                                                                                            <a href="@Url.Action("TeacherDetailList", "Teacher", new
                                                      {
                                                          subjectId = item.SubjectId,
                                                          classId = ite.ClassId,
                                                          sectionId = ite.SectionId,
                                                          ItemValue = it.Value
                                                      })"> @it.Text</a>
                                                            
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            <br/>
                                                                                                            <a href="@Url.Action("TeacherDetailList", "Teacher", new
                                                      {
                                                          subjectId = item.SubjectId,
                                                          classId = ite.ClassId,
                                                          sectionId = ite.SectionId,
                                                          ItemValue = it.Value
                                                      })"> @it.Text</a>
  
                                                                                                        }
                                                                                                        y++;

                                                                                                    }
                                                                                                </td>
                                                  
                                                                                            </tr>
                                   
                                              
                                                                                        </table>
                                                                                    </li>
                                    
                                                                                </ul>
                                                                            </li>
                                                                        </ul>

                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                       
                                          
                                       
                                                    }

                                                    i++;




                                                }
                                            </td>
                                      
                                        
                                        </tr>
                                        SN0++;

                                    }
                                
                                </tbody>
                            </table>
                        </div>
        
  

                    </div>
                </div>
            </section>
        </div>
         <div class="span3">
            @* <div class="row-fluid">
        <a href="#" class="icon-btn span2 offset2"><i class="icon-dashboard icon-1x "></i>
            <div>
                Class/Section</div>
            <span title="Class" class="badge label-warning">@Model.StudentRegistrationDetail.Studentinfo.Class.Description</span>
            <span title="Section" class="badge label-success badge-right">@Model.StudentRegistrationDetail.Section.Description</span>
        </a><a href="@Url.Action("TeacherProfile", "StudentProfile", new { teacherUsername = Model.TeacherUserName })" class="icon-btn span2"><i title="Class Teacher" class="icon-user"> @Model.ClassTeacher</i>
            <div>
                Class Teacher</div>
            <span class="badge  label-info badge-right"></span></a>*@
            <a href="/Teacher/AcademicCalendar"
                class="icon-btn offset2"> <i class="icon-calendar icon-2x"></i>
                                                                         <div>
                                                                             Calendar</div>
                                                                           
               </a><a href="@Url.Action("MessageInbox", "Teacher")" class="icon-btn  offset2">
                    <i class="icon-inbox icon-2x"></i>
                    <div>
                        Inbox</div>
                    <span class="badge label-important badge-right">@Model.TotalMessage</span>
            </a>
        </div>
    </div>
</div>
