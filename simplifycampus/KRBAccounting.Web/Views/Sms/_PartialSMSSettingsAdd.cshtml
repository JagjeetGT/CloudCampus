@model KRBAccounting.Domain.Entities.SMSSettings
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<div class="workplace">
    <div class="row-fluid">
        <div class="span12">
            <div class="head">
                <div class="isw-grid">
                </div>
                <h1>
                    SMS Settings</h1>
                <ul class="buttons">
                </ul>
                <div class="clear">
                </div>
            </div>
        </div>
    </div>
    <div class="block-fluid">
        <div id="student-info">
            @using (Ajax.BeginForm("SMSSettings", "Sms", new { controller = "Sms" }, new AjaxOptions { HttpMethod = "Post", OnSuccess = "OnComplete" }, new { @class = "form-horizontal from-custom", id = "smssettings-frm" }))
            {
                @Html.HiddenFor(x => x.Id)
                @Html.HiddenFor(x=>x.Password)
                <div id="student-details">
                    <div class="row" style="padding-top: 10px;">
                        <div class="span7">
                            <div>
                                <div class="lag">
                                    <label class="label-160">
                                        Username
                                    </label>
                                    <span class="field">
                                        @Html.TextBoxFor(model => model.UserName, new { @class = "input input-253" })
                                        @Html.ValidationMessageFor(model => model.UserName)
                                    </span>
                                </div>
                                <div class="clearfix">
                                </div>
                                <div class="lag">
                                    <label class="label-160">
                                        Password
                                    </label>
                                    <span class="field">
                                        @Html.PasswordFor(model => model.Password, new { @class = "input input-253" })
                                        @Html.ValidationMessageFor(model => model.Password)
                                    </span>
                                </div>
                                <div class="clearfix">
                                </div>
                                <div class="lag">
                                    <label class="label-160">
                                        Attendance SMS
                                    </label>
                                    <span class="field">
                                        @Html.EditorFor(model => model.AttendanceSMS, new { @class = "input input-253" })
                                    </span>
                                </div>
                                <div class="clearfix">
                                </div>
                                <div class="lag">
                                    <label class="label-160">
                                        Event SMS
                                    </label>
                                    <span class="field">
                                        @Html.EditorFor(model => model.EventsSMS, new { @class = "input input-253" })
                                    </span>
                                </div>
                                <div class="clearfix">
                                </div>
                                <div class="lag">
                                    <label class="label-160">
                                        Birthday SMS
                                    </label>
                                    <span class="field">
                                        @Html.EditorFor(model => model.BirthdaySMS, new { @class = "input input-253" })
                                    </span>
                                </div>
                                <div class="clearfix">
                                </div>
                                <div class="lag">
                                    <label class="label-160">
                                        Exam Result / Schedule SMS
                                    </label>
                                    <span class="field">
                                        @Html.EditorFor(model => model.ExamResultScheduleSMS, new { @class = "input input-253" })
                                    </span>
                                </div>
                                <div class="clearfix">
                                </div>
                                <input type="submit" value="Update" class="btn" style="margin-top: 20px; margin-left: 12px;" />
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</div>
<div id="my-modal" class="modal hide fade">
    <div class="modal-body">
        <p class="body">
            <img alt="Saved Correctly" src="/Content/img/1346139566_check.png" width="48" height="48" /><h4>
                <strong>Settings Saved Succesfully.</strong></h4>
        </p>
    </div>
</div>
<div id="my-modalError" class="modal hide fade">
    <div class="modal-body">
        <p class="body">
            <img alt="Saved Correctly" src="/Content/img/delete.png" width="48" height="48" /><h4>
                <strong>Error saving Settings. Try Again Later.</strong></h4>
        </p>
    </div>
</div>
<script type="text/javascript">
    function OnComplete(data) {
        if (data == "True") {
            $.unblockUI();
            $('#my-modal').modal('show');
            $.unblockUI();
            setTimeout(function () {
                $('#my-modal').modal('hide');
            }, 1200);

        } else {
            $.unblockUI();
            $('#my-modalError').modal('show');
            $.unblockUI();
            setTimeout(function () {
                $('#my-modalError').modal('hide');
            }, 1200);
        }

    }
    
</script>
