@model KRBAccounting.Web.ViewModels.Setup.FiscalYearViewModel
<script src="@Url.Content("~/Scripts/jquery.validate.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.js")" type="text/javascript"></script>
<div style="width: 680px;">
    @using (Ajax.BeginForm("FiscalYearAdd", "Setup", new { controller = "Setup" }, new AjaxOptions { HttpMethod = "Post", OnComplete = "OnComplete" }, new { @class = "form-horizontal form-custom", id = "fical-year-form" }))
    {
        <div style="width: 500px;">
            <div class="lag">
                <span class="stack">
                    <label class="label-160">
                        Start Date</label>
                    <span class="field">@* @Html.HiddenFor(m => m.FiscalYear.StartDateNep)
@Html.HiddenFor(m => m.FiscalYear.StartDate, new { displayId = "DisplayStartDate" })
@Html.TextBoxFor(m => m.DisplayStartDate, new { @class = "input", entermsg = "Enter Voucher Date.", miti = Model.SystemControl.DateType, dateId = "FiscalYear_StartDate", displayId = "DisplayStartDate", mitiId = "FiscalYear_StartDateNep" })
<input type="hidden" id="currStartDate" />*@
                        @Html.TextBoxFor(m => m.DisplayStartDate)
                        @Html.ValidationMessageFor(m => m.DisplayStartDate)
                    </span></span><span class="stack">
                        <label class="label-160">
                            End Date</label>
                        <span class="field">@* @Html.HiddenFor(m => m.FiscalYear.EndDateNep)
@Html.HiddenFor(m => m.FiscalYear.EndDate, new { displayId = "DisplayEndDate" })
@Html.TextBoxFor(m => m.DisplayEndDate, new { @class = "input", entermsg = "Enter Voucher Date.", miti = Model.SystemControl.DateType, dateId = "FiscalYear_EndDate", displayId = "DisplayEndDate", mitiId = "FiscalYear_EndDateNep" })
<input type="hidden" id="currEndDate" />*@
                            @Html.TextBoxFor(m => m.DisplayEndDate)
                            @Html.ValidationMessageFor(m => m.DisplayEndDate)
                        </span></span>
            </div>
        </div>
    }
</div>
<script type="text/javascript">
$(document).ready(function () {

var dateType = @Model.SystemControl.DateType.ToString();
if (dateType == "1") {
$("#DisplayStartDate,#DisplayEndDate" ).mask("99/99/9999");
$("#DisplayStartDate,#DisplayEndDate" ).live("blur", function() {
var validDate = isDate($(this).val(), "/", 1, 0, 2);
if (!validDate) {
$($(this).addClass("error"));
} else {
$($(this).removeClass("error"));
}
});
} else {
$("#DisplayStartDate,#DisplayEndDate").mask("9999/99/99");
$("#DisplayStartDate,#DisplayEndDate").live("blur", function() {
var date = $(this).val();
var validDate = isNepaliDate(date);
if (!validDate) {
$($(this).addClass("error"));
} else {
$($(this).removeClass("error"));
}
});
}

});
</script>
